server.port=8080
spring.application.name=gateway

# JWT
security.jwt.secret=${JWT_SECRET:tassoiturrieta2025}

# Gateway routes
spring.cloud.gateway.routes[0].id=vehiculos-service
spring.cloud.gateway.routes[0].uri=${VEHICULOS_URL:http://localhost:8081}
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/vehiculos/**

spring.cloud.gateway.routes[1].id=conductores-service
spring.cloud.gateway.routes[1].uri=${CONDUCTORES_URL:http://localhost:8082}
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/conductores/**

spring.cloud.gateway.routes[2].id=residuos-service
spring.cloud.gateway.routes[2].uri=${RESIDUOS_URL:http://localhost:8083}
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/residuos/**

spring.cloud.gateway.routes[3].id=rutas-service
spring.cloud.gateway.routes[3].uri=${RUTAS_URL:http://localhost:8084}
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/rutas/**

# Health check
management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=health,info

# Excluir base de datos
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# CORS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*